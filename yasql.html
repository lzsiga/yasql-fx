<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>YASQL</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#requirements">REQUIREMENTS</a></li>
	<li><a href="#config">CONFIG</a></li>
	<li><a href="#issues">ISSUES</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#thanks">THANKS</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#license">LICENSE</a></li>
	<li><a href="#todo">TODO</a></li>
	<li><a href="#changelog">CHANGELOG</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>yasql - Yet Another SQL*Plus replacement</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p><strong>yasql</strong> [options] [logon] [@&lt;file&gt;[.ext] [&lt;param1&gt; &lt;param2&gt;]</p>
<dl>
<dt><strong><a name="item_logon">logon</a></strong><br />
</dt>
<dd>
&lt;<em>username</em>&gt;[/&lt;<em>password</em>&gt;][@&lt;<em>connect_string</em>&gt;] | /
</dd>
<p></p>
<dt><strong><a name="item_options">options</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item__2dd_debuglevel_2c__2d_2ddebug_3ddebuglevel">-d <em>debuglevel</em>, --debug=<em>debuglevel</em></a></strong><br />
</dt>
<dd>
Turn debuggin on to <em>debuglevel</em> level.  Valid levels: 1,2,3,4
</dd>
<p></p>
<dt><strong><a name="item__2dh_hostaddress_2c__2d_2dhost_3dhostaddress">-H <em>hostaddress</em>, --host=<em>hostaddress</em></a></strong><br />
</dt>
<dd>
Host to connect to
</dd>
<p></p>
<dt><strong><a name="item__2dp_hostport_2c__2d_2dport_3dhostport">-p <em>hostport</em>, --port=<em>hostport</em></a></strong><br />
</dt>
<dd>
Host port to connect to
</dd>
<p></p>
<dt><strong><a name="item__2ds_sid_2c__2d_2dsid_3dsid">-s <em>SID</em>, --sid=<em>SID</em></a></strong><br />
</dt>
<dd>
Oracle SID to connect to
</dd>
<p></p>
<dt><strong><a name="item__2dh_2c__2d_3f_2c__2d_2dhelp">-h, -?, --help</a></strong><br />
</dt>
<dd>
Output usage information and quit.
</dd>
<p></p>
<dt><strong><a name="item__2da_2c__2d_2dnocomp">-A, --nocomp</a></strong><br />
</dt>
<dd>
Turn off the generation of the auto-completion list at startup.  Use This if 
it takes too long to generate the list with a large database.
</dd>
<p></p>
<dt><strong><a name="item__2db_2c__2d_2dbench_2c__2d_2dbenchmark">-b, --bench, --benchmark</a></strong><br />
</dt>
<dd>
Turn on extended benchmark info, which includes times and CPU usages for both
queries and formatting.
</dd>
<p></p>
<dt><strong><a name="item__2dv_2c__2d_2dversion">-v, --version</a></strong><br />
</dt>
<dd>
Print version and exit
</dd>
<p></p></dl>
<dt><strong><a name="item_examples">Examples</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_connect_to_local_database">Connect to local database</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_yasql">yasql</a></strong><br />
</dt>
<dt><strong><a name="item_yasql_user">yasql user</a></strong><br />
</dt>
<dt><strong><a name="item_yasql_user_2fpassword">yasql user/password</a></strong><br />
</dt>
<dt><strong><a name="item_yasql_user_40local">yasql user@LOCAL</a></strong><br />
</dt>
<dt><strong><a name="item_yasql_user_2fpassword_40local">yasql user/password@LOCAL</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_localhost">yasql -h localhost</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_localhost__2dp_1521">yasql -h localhost -p 1521</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_localhost__2dp_1521__2ds_orcl">yasql -h localhost -p 1521 -s ORCL</a></strong><br />
</dt>
</dl>
<dt><strong><a name="item_connect_to_remote_host">Connect to remote host</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_yasql_user_40remote">yasql user@REMOTE</a></strong><br />
</dt>
<dt><strong><a name="item_yasql_user_2fpassword_40remote">yasql user/password@REMOTE</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_remote_2edomain_2ecom">yasql -h remote.domain.com</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_remote_2edomain_2ecom__2dp_1512">yasql -h remote.domain.com -p 1512</a></strong><br />
</dt>
<dt><strong><a name="item_yasql__2dh_remote_2edomain_2ecom__2dp_1512__2ds_or">yasql -h remote.domain.com -p 1512 -s ORCL</a></strong><br />
</dt>
</dl>
</dl>
</dl>
<p>If no connect_string or a hostaddress is given, then will attempt to connect to
the local default database.</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>YASQL is an open source Oracle command line interface.  YASQL features a much
kinder alternative to SQL*Plus's user interface.  This is meant to be a
complete replacement for SQL*Plus when dealing with ad hoc queries and general
database interfacing.  It's main features are:</p>
<dl>
<dt><strong><a name="item_full_readline_support">Full ReadLine support</a></strong><br />
</dt>
<dd>
Allows the same command line style editing as other ReadLine enabled programs
such as BASH and the Perl Debugger.  You can edit the command line as well as
browse your command history.  The command 
history is saved in your home directory in a file called .yasql_history.  You 
can also use tab completion on all table and column names.
</dd>
<p></p>
<dt><strong><a name="item_alternate_output_methods">Alternate output methods</a></strong><br />
</dt>
<dd>
A different style of output suited to each type of need.  There are currently
table, list and CSV output styles.  Table style outputs in the same manner as 
SQL*Plus, except the column widths are set based on the width of the data in 
the column, and not the column length defined in the table schema.  List outputs
each row on it's own line, column after column for easier viewing of wide return
results.  CSV outputs the data in Comma Seperated Values format, for easy
import into many other database/spreadsheet programs.
</dd>
<p></p>
<dt><strong><a name="item_output_of_query_results">Output of query results</a></strong><br />
</dt>
<dd>
You can easily redirect the output of any query to an external file
</dd>
<p></p>
<dt><strong><a name="item_data_input_and_binding">Data Input and Binding</a></strong><br />
</dt>
<dd>
YASQL allows you to bind data in an external CSV file to any query, using
standard DBI placeholders.  This is the ultimate flexibility when inserting or
updating data in the database.
</dd>
<p></p>
<dt><strong><a name="item_command_pipes">Command pipes</a></strong><br />
</dt>
<dd>
You can easily pipe the output of any query to an external program.
</dd>
<p></p>
<dt><strong><a name="item_tab_completion">Tab completion</a></strong><br />
</dt>
<dd>
All tables, columns, and other misc objects can be completed using tab, much
like you can with bash.
</dd>
<p></p>
<dt><strong><a name="item_easy_top_rownum_listings">Easy top rownum listings</a></strong><br />
</dt>
<dd>
You can easily put a number after a terminator, which will only output those
number of lines.  No more typing ``where rownum &lt; 10'' after every query.  Now
you can type 'select * from table;10' instead.
</dd>
<p></p>
<dt><strong><a name="item_enhanced_data_dictionary_commands">Enhanced Data Dictionary commands</a></strong><br />
</dt>
<dd>
Special commands like 'show tables', 'desc &lt;table&gt;', 'show indexes on &lt;table&gt;',
'desc &lt;sequence&gt;', and many many more so that you can easily see your schema.
</dd>
<p></p>
<dt><strong><a name="item_query_editing">Query editing</a></strong><br />
</dt>
<dd>
You can open and edit queries in your favorite text editor.
</dd>
<p></p>
<dt><strong><a name="item_query_chaining">Query chaining</a></strong><br />
</dt>
<dd>
You can put an abitrary number of queries on the same line, and each will be
executed in turn.
</dd>
<p></p>
<dt><strong><a name="item_basic_scripting">Basic scripting</a></strong><br />
</dt>
<dd>
You can put basic SQL queries in a script and execute them from YASQL.
</dd>
<p></p>
<dt><strong><a name="item_config_file">Config file</a></strong><br />
</dt>
<dd>
You can create a config file of options so that you don't have to set them
everytime you run it.
</dd>
<p></p>
<dt><strong><a name="item_future_extensibility">Future extensibility</a></strong><br />
</dt>
<dd>
We, the community, can modify and add to this whatever we want, we can't do that
with SQL*Plus.
</dd>
<p></p></dl>
<p>
</p>
<hr />
<h1><a name="requirements">REQUIREMENTS</a></h1>
<dl>
<dt><strong><a name="item_perl_5">Perl 5</a></strong><br />
</dt>
<dd>
This was developed with Perl 5.6, but is known to work on 5.005_03 and above.
Any earlier version of Perl 5 may or may not work.  Perl 4 will definately not
work.
</dd>
<p></p>
<dt><strong><a name="item_unix_environment">Unix environment</a></strong><br />
</dt>
<dd>
YASQL was developed under GNU/Linux, and aimed at as many Unix installations as 
possible.  Known to be compatible with GNU/Linux, AIX and Sun Solaris.
Please send me an email (<a href="mailto:qzy@users.sourceforge.net">qzy@users.sourceforge.net</a>) if it works for other platforms.
I'd be especially interested if it worked on Win32.
</dd>
<p></p>
<dt><strong><a name="item_oracle_server">Oracle Server</a></strong><br />
</dt>
<dd>
It has been tested and developed for Oracle8 and Oracle8i.  There is atleast
one issue with Oracle7 that I know of (see ISSUES below) and I have not tested
it with Oracle9i yet.
</dd>
<p></p>
<dt><strong><a name="item_oracle_client_libraries">Oracle client libraries</a></strong><br />
</dt>
<dd>
The Oracle client libraries must be installed for DBD::Oracle.  Of course you
can't install DBD::Oracle without them...
</dd>
<p></p>
<dt><strong><a name="item_dbd_3a_3aoracle">DBD::Oracle</a></strong><br />
</dt>
<dd>
DBD::Oracle must be installed since this uses DBI for database connections.
</dd>
<p></p>
<dt><strong><a name="item_oracle_home">ORACLE_HOME</a></strong><br />
</dt>
<dd>
The ORACLE_HOME environment variable must be set if you use a connection 
descriptor to connect so that YASQL can translate the descriptor into 
usefull connection information to make the actual connection.
</dd>
<p></p>
<dt><strong><a name="item_oracle_sid">ORACLE_SID</a></strong><br />
</dt>
<dd>
The ORACLE_SID environment variable must be set unless you specify one with the 
-s option (see options above).
</dd>
<p></p>
<dt><strong><a name="item_term_3a_3areadline">Term::Readline</a></strong><br />
</dt>
<dd>
Term::Readline must be installed (it is with most Perl installations), but more 
importantly, installing Term::ReadLine::Gnu from CPAN will greatly enhance the 
usability.
</dd>
<p></p>
<dt><strong><a name="item_time_3a_3ahires">Time::HiRes</a></strong><br />
</dt>
<dd>
This is used for high resolution benchmarking.  It is optional.
</dd>
<p></p>
<dt><strong><a name="item_text_3a_3acsv_xs">Text::CSV_XS</a></strong><br />
</dt>
<dd>
This perl module is required if you want to output CSV or input from CSV files.
If you don't plan on using this features, then you don't need to install this
module.
</dd>
<p></p>
<dt><strong><a name="item_term_3a_3areadkey">Term::ReadKey</a></strong><br />
</dt>
<dd>
This module is used for better input and output control.  Right now it isn't
required, but some parts of YASQL will look and function better with this
installed.
</dd>
<p></p></dl>
<p>
</p>
<hr />
<h1><a name="config">CONFIG</a></h1>
<p>YASQL will look for a config file first in ~/.yasqlrc then 
/etc/yasql.conf.  The following options are available:</p>
<dl>
<dt><strong><a name="item_connection_timeout__3d__3cseconds_3e">connection_timeout = &lt;seconds&gt;</a></strong><br />
</dt>
<dd>
Timeout for connection attempts
</dd>
<dd>
<p>Default: 20</p>
</dd>
<p></p>
<dt><strong><a name="item_max_connection_attempts__3d__3cnum_3e">max_connection_attempts = &lt;num&gt;</a></strong><br />
</dt>
<dd>
The amount of times to attempt the connection if the username/password are wrong
</dd>
<dd>
<p>Default: 3</p>
</dd>
<p></p>
<dt><strong><a name="item_history_file__3d__3cfile_3e">history_file = &lt;file&gt;</a></strong><br />
</dt>
<dd>
Where to save the history file.  Shell metachars will be globbed (expanded)
</dd>
<dd>
<p>Default: ~/.yasql_history</p>
</dd>
<p></p>
<dt><strong><a name="item_pager__3d__3cfile_3e">pager = &lt;file&gt;</a></strong><br />
</dt>
<dd>
Your favorite pager for extended output. (right now only the help command)
</dd>
<dd>
<p>Default: /bin/more</p>
</dd>
<p></p>
<dt><strong><a name="item_auto_commit__3d__5b0_2f1_5d">auto_commit = [0/1]</a></strong><br />
</dt>
<dd>
Autocommit any updates/inserts etc
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_commit_on_exit__3d__5b0_2f1_5d">commit_on_exit = [0/1]</a></strong><br />
</dt>
<dd>
Commit any pending transactions on exit.  Errors or crashes will still cause
the current transaction to rollback.  But with this on a commit will occur
when you explicitly exit.
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_long_trunc_ok__3d__5b0_2f1_5d">long_trunc_ok = [0/1]</a></strong><br />
</dt>
<dd>
Long truncation OK.  If set to 1 then when a row contains a field that is
set to a LONG time, such as BLOB, CLOB, etc will be truncated to long_read_len
length.  If 0, then the row will be skipped and not outputted.
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_long_read_len__3d__3cnum_chars_3e">long_read_len = &lt;num_chars&gt;</a></strong><br />
</dt>
<dd>
Long Read Length.  This is the length of characters to truncate to if 
long_trunc_ok is on
</dd>
<dd>
<p>Default: 80</p>
</dd>
<p></p>
<dt><strong><a name="item_edit_history__3d__5b0_2f1_5d">edit_history = [0/1]</a></strong><br />
</dt>
<dd>
Whether or not to put the query edited from the 'edit' command into the
command history.
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_auto_complete__3d__5b0_2f1_5d">auto_complete = [0/1]</a></strong><br />
</dt>
<dd>
Whether or not to generate the autocompletion list on connection.  If connecting
to a large database (in number of tables/columns sense), the generation process
could take a bit. For most databases it shouldn't take long at all though.
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_extended_complete_list__3d__5b0_2f1_5d">extended_complete_list = [0/1]</a></strong><br />
</dt>
<dd>
extended complete list will cause the possible matches list to be filled by
basicly any and all objects.  With it off the tab list will be restricted to
only tables, columns, and objects owned by the current user.
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_complete_tables__3d__5b0_2f1_5d">complete_tables = [0/1]</a></strong><br />
</dt>
<dd>
This controls whether or not to add tables to the completion list.  This does
nothing if auto_complete is set to 0.
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_complete_columns__3d__5b0_2f1_5d">complete_columns = [0/1]</a></strong><br />
</dt>
<dd>
This controls whether or not to add columns to the completion list.  This does
nothing if auto_complete is set to 0.
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_complete_objects__3d__5b0_2f1_5d">complete_objects = [0/1]</a></strong><br />
</dt>
<dd>
This controls whether or not to add all other objects to the completion list.
This does nothing if auto_complete is set to 0. (Hint... depending on your
schema this will include tables and columns also, so you could turn the other
two off)
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p>
<dt><strong><a name="item_extended_benchmarks__3d__5b0_2f1_5d">extended_benchmarks = [0/1]</a></strong><br />
</dt>
<dd>
Whether or not to include extended benchmarking info after queries.  Will 
include both execution times and CPU loads for both the query and formatting
parts of the process.
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_prompt">prompt</a></strong><br />
</dt>
<dd>
A string to include in the prompt.  The prompt will always be suffixed by a
'&gt;' string.  Interpolated variables:
 %H = connected host.  will be prefixed with a '@'
 %U = current user
</dd>
<dd>
<p>Default: %U%H</p>
</dd>
<p></p>
<dt><strong><a name="item_column_wildcards__3d__5b0_2f1_5d">column_wildcards = [0/1]</a></strong><br />
</dt>
<dd>
Column wildcards is an extremely experimental feature that is still being
hashed out due to the complex nature of it.  This should affect only select
statements and expands any wildcards (*) in the column list.  such as
'select col* from table;'.
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_sql_query_in_error__3d__5b0_2f1_5d">sql_query_in_error = [0/1]</a></strong><br />
</dt>
<dd>
This this on to output the query in the error message.
</dd>
<dd>
<p>Default: 0</p>
</dd>
<p></p>
<dt><strong><a name="item_nls_date_format__3d__3cstring_3e">nls_date_format = &lt;string&gt;</a></strong><br />
</dt>
<dd>
Set the preferred NLS_DATE_FORMAT.  This effects both date input and output
formats.  The default is ISO standard (YYYY-MM-DD HH24:MI:SS', not oracle
default (YYYY-MM-DD).
</dd>
<dd>
<p>Default: YYYY-MM-DD HH24:MI:SS</p>
</dd>
<p></p>
<dt><strong><a name="item_fast_describe">fast_describe</a></strong><br />
</dt>
<dd>
Turn on fast describes.  These are much faster than the old style of desc
&lt;table&gt;, however non-built in datatypes may not be returned properly.  i.e. a
FLOAT will be returned as a NUMBER type.  Internally FLOATs really are just
NUMBERs, but this might present problems for you.  If so, set this to 0
</dd>
<dd>
<p>Default: 1</p>
</dd>
<p></p></dl>
<p>
</p>
<hr />
<h1><a name="issues">ISSUES</a></h1>
<dl>
<dt><strong><a name="item_oracle7">Oracle7</a></strong><br />
</dt>
<dd>
DBD::Oracle for Oracle8 may have issues connecting to an Oracle7 database.  The
one problem I have seen is that the use of placeholders in a query will cause
oracle to issue an error ``ORA-01008: not all variables bound''.  This will affect
all of the hard-coded queries that I use such as the ones for the 'desc' and
'show' commands.  The queries that you type in on the command line may still
work.  The DBD::Oracle README mentions the use of the '-8' option to the
'perl Makefile.PL' command to use the older Oracle7 OCI.  This has not been
tested.
</dd>
<p></p></dl>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Originaly written by Nathan Shafer (<strong><a href="mailto:nshafer@ephibian.com">nshafer@ephibian.com</a></strong>) with support from
Ephibian, Inc.  <a href="http://www.ephibian.com">http://www.ephibian.com</a>
Now it is mostly developed and maintained by Balint Kozman
(<strong><a href="mailto:qzy@users.sourceforge.net">qzy@users.sourceforge.net</a></strong>).  <a href="http://www.imind.hu">http://www.imind.hu</a></p>
<p>
</p>
<hr />
<h1><a name="thanks">THANKS</a></h1>
<p>Thanks to everyone at Ephibian that helped with testing, and a special thanks
to Tom Renfro at Ephibian who did a lot of testing and found quite a few 
doozies.
Also a lot of thanks goes to the mates at iMind.dev who keep suffering from
testing new features on them.</p>
<p>The following people have also contributed to help make YASQL what it is:
Allan Peda, Lance Klein, Scott Kister, Mark Dalphin, Matthew Walsh</p>
<p>And always a big thanks to all those who report bugs and problems, especially
on other platforms.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright (C) 2000-2002 Ephibian, Inc., 2005 iMind.dev.</p>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<p>This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</p>
<p>
</p>
<hr />
<h1><a name="todo">TODO</a></h1>
<dl>
<dt><strong><a name="item_desc_a_synomym_doesn_27t_keep_the_right_schema_2e_">desc a synomym doesn't keep the right schema... I think.  Saw in desc parking.customer when logged in as cccrsmgr in 3c db</a></strong><br />
</dt>
<dt><strong><a name="item_host">allow history to be saved based on host (as an option)</a></strong><br />
</dt>
<dt><strong><a name="item_make_stifle_history_a_configurable_option">make stifle_history a configurable option</a></strong><br />
</dt>
<dt><strong><a name="item_a_row_is_printed_after__22attempting_to_cancel_que">a row is printed after ``Attempting to cancel query''</a></strong><br />
</dt>
<dt><strong><a name="item_properly">reading from a script will not change prompt properly (for a script with no terminator)</a></strong><br />
</dt>
<dt><strong><a name="item_null_stops_printing_after_table_goes_into_overflow">NULL stops printing after table goes into overflow or something</a></strong><br />
</dt>
<dt><strong><a name="item_extra_space_in__5cg_2e_2e_2e_maybe_others">extra space in \G... maybe others</a></strong><br />
</dt>
<dt><strong><a name="item_bug_3a_tag_completion_doesn_27t_work_with_caps_any">bug: tag completion doesn't work with caps anymore</a></strong><br />
</dt>
<dt><strong><a name="item_add_support_for__2fnolog">Add support for /NOLOG</a></strong><br />
</dt>
<dt><strong><a name="item_allow_dblinks_in_show_blah_on_blah_commands">allow dblinks in show blah on blah commands</a></strong><br />
</dt>
<dt><strong><a name="item_show_query_doesn_27t_work_with_schemas_and_db_link">show query doesn't work with schemas and db links</a></strong><br />
</dt>
<dt><strong><a name="item_add_save_and_get_buffer_commands">add save and get buffer commands</a></strong><br />
</dt>
<dt><strong><a name="item_command">add R[UN] command (/ equivilent)</a></strong><br />
</dt>
<dt><strong><a name="item_add_support_for_just__27connect_27_and_prompt_for_">add support for just 'connect' and prompt for username and password</a></strong><br />
</dt>
<dt><strong><a name="item_add_passw_5bord_5d_command_for_changing_password">add PASSW[ORD] command for changing password</a></strong><br />
</dt>
<dt><strong><a name="item_add__2ds_5bilent_5d_command_line_to_suppress_all_s">add -s[ilent] command line to suppress all startup output and command prompts</a></strong><br />
</dt>
<dt><strong><a name="item_add__27start_27_command_for_scripting">add 'start' command for scripting</a></strong><br />
</dt>
<dt><strong><a name="item_add__27run_27_synonum_for__27_2f_27">add 'run' synonum for '/'</a></strong><br />
</dt>
<dt><strong><a name="item_add__27show_parameters__3cfilter_3e_27_support">add 'show parameters &lt;filter&gt;' support</a></strong><br />
</dt>
<dt><strong><a name="item_fix_segfaults_when_cancelling_large_outputs">fix segfaults when cancelling large outputs</a></strong><br />
</dt>
<dt><strong><a name="item_add_a__27spool_27_command">Add a 'SPOOL' command</a></strong><br />
</dt>
<dt><strong><a name="item_fix__27set_2e_2e_2e_27_commands">fix 'set...' commands</a></strong><br />
</dt>
<dt><strong><a name="item_add_variable_bindings_2c_prompting_2c_control_stru">Add variable bindings, prompting, control structures, etc.</a></strong><br />
</dt>
<dt><strong><a name="item_be_able_to_describe_any_kind_of_object">be able to describe any kind of object</a></strong><br />
</dt>
<dt><strong><a name="item_add__27startup_queries_27_in_config_file_or_suppor">Add 'startup queries' in config file or support glogin.sql and login.sql</a></strong><br />
</dt>
<dt><strong><a name="item_fix_case_sensitive_object_names">fix case sensitive object names</a></strong><br />
</dt>
<dt><strong><a name="item_make_win32_compliant">make win32 compliant</a></strong><br />
</dt>
<dt><strong><a name="item_add_better_error_messages_when_the_user_can_27t_ac">add better error messages when the user can't access a data dictionary
table</a></strong><br />
</dt>
<dt><strong><a name="item_add_better_error_output_2c_with_line_2fcol_numbers">add better error output, with line/col numbers and maybe a pointer.</a></strong><br />
</dt>
<dt><strong><a name="item_add_chained_ops_2c_exactly_like_bash">add chained ops, exactly like bash</a></strong><br />
</dt>
<dt><strong><a name="item_add_plugins_and_hooks_for_all_aspects_2e">add plugins and hooks for all aspects.</a></strong><br />
</dt>
<dt><strong><a name="item_add_smarter_tables_and_wrapping_in_columns_2e_also">Add smarter tables and wrapping in columns.  Also add configurable max
column widths and max table width.</a></strong><br />
</dt>
<dt><strong><a name="item_add_a_curses_interface_option_for_easy_viewing_and">Add a curses interface option for easy viewing and scrolling, etc.  This
will require some research to determine if it's even worth it.</a></strong><br />
</dt>
<dt><strong><a name="item_add_html_output_option">Add HTML output option</a></strong><br />
</dt>
</dl>
<p>
</p>
<hr />
<h1><a name="changelog">CHANGELOG</a></h1>
<p>$Log: yasql,v $
Revision 1.83  2005/05/09 16:57:13  qzy
Fixed the 'DECIMAL' problem with describe command.
Added sql mode with \i (patch by Ed Avis).
Added redirectors (&gt;, &gt;&gt;, |) to describe.
Added 'show user' command.
Added 'show uid' command.
Added new makefile targets: clean, check. (patch by Ed Avis)
Added ``and owner = ?'' to some show targets (patch by anonymous).
Added command_complete_list feature and config option.
Added disconnect command
Added command completion: select, update, insert, delete, execute, etc.
Added table.column name completion.
Added feature to run tty-less (patch by Michael Kroell).
Added a workaround for SunOS's <code>alarm()</code> bug (patch by Ed Avis).
Fixed some minor issues in parser code.</p>
<p>Revision 1.82  2005/02/18 16:57:13  qzy
Added batch mode (ewl patch).
Allow connections AS SYSDBA, AS SYSOPER and internal (sysdba patch by Derek Whayman).
Added server_output to config options.
Changed script execution to only add script lines to the query buffer (and not to history).</p>
<p>Revision 1.81  2002/03/06 21:55:13  nshafer
Fixed bug with password prompt.
Added 'show plan' for outputting last explain plan results.
Added 'show query' for viewing queries for views and materialized views.
Optimized describes to be as fast as describes in SQL*Plus.
Added new option 'fast_describe' on by default for new describe method.
Added single_output as a formatting option for internal use.
Fixed problem with password, quit, exit, \q getting added to the history list.
Changed history to not add duplicate entries right next to each other.
Added support for basic (non-returning) PL/SQL commands.
Added support for create function, package, package body, prodedure, trigger.
Added 'show errors' command
Added 'conn' shortcut for 'connection'.
Added 'exec[ute]' command.
Added 'set serverout[put] on|off' command to mimic SQL*Plus's.
Added alarms to pings in cases where DB connection is dropped and ping hangs.
Cleaned up error messages.
Renamed config options AutoCommit, CommitOnExit, LongTruncOk, and LongReadLen toauto_commit, commit_on_exit, long_trunc_ok, and long_read_len.  Old names are now deprecated.
Changed quote escaping to be '' and ``'' instead of \' and \``.
Added full support for comments: rem[ark], --, and /* */.
Right-justify works for the '8' datatype as well as '3' now.
Re-worked debug output levels.
Optimized query for completion lists a bit.
Added completion-list limiting based on location in some DML statements (select, update, insert).
Fixed up the display of '...' when generating tab completion list.  Should work a lot better when hitting tab in the middle of the line.
Added show views, objects, sequences, clusters, dimensions, functions, procedures, packages, indexes, indextypes, libraries, materialized views, snapshots, synonyms, triggers.
Added show all &lt;objects&gt; command.
Added type and owner columns to show commands.
Fixed commit_on_exit logic.
Added ability to use external authentication ('yasql /').
The .sql extension for the scripting and editing commands are now optional.
Fixed up editor execution to hopefully find the editor better.
Added ''Command`` entry to ''show processes``.
Added ''show waits`` and ''show all waits`` commands.
Re-organized command line usage in anticipation for script parameters.
Removed all uses of 'stty'.
Added processing of STDIN, so redirects and pipes to YASQL work now.
Changed benchmarking to include time for fetching... this should work better with Oracle 7.x, which doesn't seem to execute the query until you try fetching
Updated documentation.
Fixed up <code>alarm()</code> calls.
Fixed setting of NLS_DATE_FORMAT to apply on reconnects.
Broke commands into 2 sets... ones that exectute any time, and ones that execute only when nothing is in the buffer
Fixed printing of text read in from an edit command.  It now echoes all of it.
Now ignoring most SET commands so we don't tack them onto queries
Fixed permissions in tarball</p>
<p>Revision 1.80  2001/08/01 18:06:27  nshafer
Fixed bug with delayed $term initialization</p>
<p>Revision 1.79  2001/08/01 17:52:35  nshafer
Fixed compatibility issues with the data dictionary in Oracle 7.  Fixed ordering
of indexes for compound indexes.  Fixed display of objects from other schemas
in some data dictionary commands such as 'show indexes on table'.  (Thanks Nix)
Fixed matching of declare and end in query string.  Will not only match if on
blank line.  Fixed matching of '/' terminator in middle of queries.  Will now
only match if at end of line (Thanks Wesley Hertlein).  Temp file for editing
now appends '.sql' to end of temp file so that editors, like vim, automatically
turn on syntax highlighting.  Added searching of environment variable SQLPATH
when looking for scripts.  Terminal setup is now after script parsing, so that
it will work when run under cron (Thanks David Zverina).</p>
<p>Revision 1.78  2001/07/05 13:52:56  nshafer
Fixed bug where parens were matching improperly.</p>
<p>Revision 1.77  2001/07/04 02:57:08  nshafer
Fixed bug where terminators wouldn't match if they were the next character
after a quote character.</p>
<p>Revision 1.76  2001/06/28 04:17:53  nshafer
Term::ReadLine::Perl now supported, for what little functionality it does
provide.  Fixed segfault when hitting up when history is empty.  Fixed bug
when providing script names on command line (Thanks to Dave Zverina.)
Rewrote the query parser to fix a bug, caused by the multiple-queries-on-one-
line feature, that causes terminators, such as ';' and '/' to match when in
quotes.  When hitting tab on a line starting with a '@' for scripts, tab will
now complete filenames and not database objects.  Fixed DB timeout when
prompting for username and password.  Added support for 'DECLARE' keyword,
however this does not mean that variable binding in PL/SQL blocks works yet.
Sped up startup time a bit more (hopefully).</p>
<p>Revision 1.75  2001/06/19 16:02:16  nshafer
Fixed typo in error message for Term::ReadLine::Gnu
Fixed crash when tab hit at username or password prompt
Added -- as a comment type and fixed case where comment in quotes would
match. (Mark Dalphin)
Fixed 'desc' to also describe partitioned tables (Erik)</p>
<p>Revision 1.74  2001/06/18 21:07:55  nshafer
Fixed bug where / would not rerun last query (thanks Scott Kister)</p>
<p>Revision 1.73  2001/05/23 18:35:17  nshafer
Got rid of ``Prototype mismatch'' errors.  Fixed typo in extended benchmarks</p>
<p>Revision 1.72  2001/05/22 16:06:36  nshafer
Fixed bug with error messages not displaying first time, and fixed bug with
tab completion output</p>
<p>Revision 1.71  2001/05/17 21:28:40  nshafer
New CSV output format.  Added CSV file input on any query.  Added ability to
pipe query results to any program.  Added ability for multiple queries on one
line.  Changed tab completion generator to run first time you hit tab instead
of on startup, which speeds up database connection.  Now using SelfLoader to
speed up loading and minimize memory use.  Added a 'show plan for ____' command
for easy display of explain plan output.  Query times are now more readable
and will split into weeks, days, hours, minutes, and seconds.  Hopefully fixed
some problems with stty and Solaris 2.4.  Added support for 'rem' comments in
scripts.  Redirection output files are now shell expanded.</p>
<p>Revision 1.70  2001/05/08 17:49:51  nshafer
Fixed all places where a non-alphanumeric object name would break or not
match.
Added code for autoconf style installs.</p>
<p>Revision 1.69  2001/05/07 23:47:47  nshafer
fixed type</p>
<p>Revision 1.68  2001/05/07 22:26:20  nshafer
Fixed tab completion problems when completing objects with a $ in their name.
Added config options complete_tables, complete_columns, and complete_objects,
Added redirection of query output to file.  Hopefully sped up exiting.
Updated documentation.</p>
<p>Revision 1.67  2001/05/04 17:35:04  nshafer
YASQL will now suspend properly back to the shell when SIGTSTP is sent, as in
when you hit ctrl-z on most systems.  Added NLS_DATE_FORMAT setting in config
file to support alter date views.  Defaults to ISO standard.  YASQL will now
attempt to change it's process name, such as when viewed in ps or top.  This
will not work on all systems, nor is it a complete bullet proof way to hide
your password if you provide it on the command line.  But it helps to not
make it so obvious to regular users.  Scripts entered on the command line are
now checked to be readable before attempting connection.  A failed 'connect
command will no long alter the prompt.  Added \p option for printing the
current buffer, ala psql.  Large query results (over 1000 rows) are now
handled MUCH better.  YASQL will no longer try to hold more than 1000 rows in
memory, which keeps it from sucking memory, and also improves the speed.
When a query does return more than 1000 rows in table mode, those first 1000
will determine the column widths, and all rows after that will get truncated.
AIX has been reported to run YASQL perfectly.</p>
<p>Revision 1.66  2001/03/13 21:34:58  nshafer
There are no longer any references to termcap, so yasql should now work on
termcap-less systems such as Debian Linux and AIX</p>
<p>Revision 1.65  2001/03/12 17:44:31  nshafer
Restoring the terminal is hopefully more robust and better now.  YASQL now
tries to use the 'stty' program to dump the settings of the terminal on
startup so that it can restore it back to those settings.  It requires that
stty is installed in the path, but that should be the case with most systems.
Also made the output of the query in the error message an option that is off
by default.  I had never meant to include that in the final release, but kept
on forgetting to take it out.</p>
<p>Revision 1.64  2001/03/06 16:00:33  nshafer
Fixed bug where desc would match anytime, even in middle of query, which is
bad.</p>
<p>Revision 1.63  2001/03/01 17:30:26  nshafer
Refined the ctrl-c process for not-so-linuxy OS's, namely solaris.  Now
stripping out Dos carriage returns since SQL*Plus seems to.</p>
<p>Revision 1.62  2001/02/26 22:39:12  nshafer
Fixed bug where prompt would reset itself when a blank line was entered.
Added script argument on command line (Lance Klein)
Added support for any command line commands in the script (Lance Klein)
The 'desc' and 'show' commands no longer require a terminator (like ;) as long as the whole statement is on one line (Lance Klein)
Added option 'extended_tab_list' for a much bigger, more complete tab listing (Lance Klein)
The edit command is no longer limited to 1 query at a time.  You can now put any valid command or query, and as many of them as you want.  The parsing rules for the edit command is exactly identical to the script parsing.
cleaned up documentation a bit</p>
<p>Revision 1.61  2001/01/31 19:56:22  nshafer
changed CommitOnExit to be 1 by default, to emulate SQL*Plus behavior, and
at popular request</p>
<p>Revision 1.60  2001/01/29 16:38:17  nshafer
got rid of (tm)</p>
<p>Revision 1.59  2001/01/29 16:28:22  nshafer
Modified docs a little with the new scope of open source now in the mix.</p>
<p>Revision 1.58  2001/01/24 15:27:00  nshafer
cleanup_after_signals is not in the Term::ReadLine::Stub, so it would
output error messages on systems without Term::ReadLine::Gnu.  Fixed</p>
<p>Revision 1.57  2001/01/17 23:26:53  nshafer
Added Tom Renfro's column_wildcard expansion code.  New conf variable:
column_wildcards.  0 by default until this code is expanded on a bit more.</p>
<p>Revision 1.56  2001/01/17 23:00:25  nshafer
Added CommitOnExit config, 0 by default.  Added info output at startup and
when a new connection is initiated about the state of AutoCommit and
CommitOnExit.  Also added statement about explicit rollback or commit when
disconnecting.  Added warning message to commit_cmd and rollback_cmd if
AutoCommit is on.  Now explicitly committing or rolling back on disconnect,
it is no longer left up to the DBI's discretion... except in abnormal
termination.</p>
<p>Revision 1.55  2001/01/11 18:05:12  nshafer
 Added trap for regex errors in tab completion (like if you put 'blah[' then
hit tab)</p>
<p>Revision 1.54  2001/01/10 17:07:22  nshafer
added output to those last 2 commands</p>
<p>Revision 1.53  2001/01/10 17:03:58  nshafer
added commit and rollback commands so that you don't have to send them to the
backend</p>
<p>Revision 1.52  2001/01/10 16:00:08  nshafer
fixed bug with prompt where on each call get_prompt would add another '@'.
Thanks Tom</p>
<p>Revision 1.51  2001/01/09 21:16:12  nshafer
dar... fixed another bug where the %H would stay if there was no prompt_host</p>
<p>Revision 1.50  2001/01/09 21:12:13  nshafer
fixed bug with that last update.  Now it only interpolates the %H variable
if there is something to interpolate it with</p>
<p>Revision 1.49  2001/01/09 21:09:56  nshafer
changed the %H variable to be prefixed with a @</p>
<p>Revision 1.48  2001/01/09 21:04:36  nshafer
changed 'default' to '' for the prompt's hostname when no connect_string is
used</p>
<p>Revision 1.47  2001/01/09 20:55:11  nshafer
added configurable prompt and changed the default prompt</p>
<p>Revision 1.46  2001/01/09 18:50:50  nshafer
updated todo list</p>
<p>Revision 1.45  2001/01/09 18:32:35  nshafer
Added 'connect &lt;connect_string&gt;' command.  I may add the ability to specify
options like on the command line (like '-H blah.com')</p>
<p>Revision 1.44  2001/01/08 22:08:49  nshafer
more documentation changes</p>
<p>Revision 1.43  2001/01/08 20:51:31  nshafer
added some documentation</p>
<p>Revision 1.42  2001/01/08 20:09:35  nshafer
Added debug and autocommit commands</p>
<p>Revision 1.41  2001/01/08 18:12:43  nshafer
added END handler to hopefully clean up the terminal better</p>
<p>Revision 1.40  2001/01/05 23:29:38  nshafer
new name!</p>
<p>Revision 1.39  2001/01/05 18:00:16  nshafer
Added config file options for auto completion generation and extended
benchmark info</p>
<p>Revision 1.38  2001/01/05 16:39:47  nshafer
Fixed error where calling edit a second time would not open the file properly
because of the way <code>glob()</code> works.</p>
<p>Revision 1.37  2001/01/04 23:52:30  nshafer
changed the version string to parse it out of the revision string (duh...)
moved the prompting of username and password so that the check for the
oracle_home variable happens before.  Before if you didn't have the environment
variable set then it will prompt you for username and password, then die
with the error, which is annoying
fixed the quit calls so taht they properly erase the quit line from the
history.  I had broken this a long time ago when I added the exit status
param to the quit function
Outputting in full table format (';' terminator) with a num_rows number
(like ';100') would still cause the entire result set to be pulled into
memory, which was really slow and could take a lot of memory if the table
was large.  Fixed it so that it only pulls in num_rows number of rows when
using the digit option</p>
<p>Revision 1.36  2000/12/22 22:12:18  nshafer
fixed a wrong-quote-type in the debug messages</p>
<p>Revision 1.35  2000/12/22 22:07:06  nshafer
forgot version... you know the drill...</p>
<p>Revision 1.34  2000/12/22 21:57:01  nshafer
Added config file support, queries from the 'edit' command are now entered
into the command history (configurable), cleaned up the SIGINT actions quite
a bit so they should work better now, added LongReadLen and LongTruncOk
options so that LONG columns types won't mess up, added the number after terminator
feature to limit how many rows are returned.</p>
<p>Revision 1.33  2000/12/20 22:56:03  nshafer
version number.... again.... sigh</p>
<p>Revision 1.32  2000/12/20 22:55:32  nshafer
added todo item, now in rpms</p>
<p>Revision 1.31  2000/12/20 17:07:52  nshafer
added the reprompt for username/password on error 1005 null password given</p>
<p>Revision 1.30  2000/12/20 17:04:18  nshafer
Refined the shadow_redisplay stuff.  Now I will only use my builtin function
if the terminal type is set to ``xterm'' because that terminal type has a
broken termcap entry.  Also set it to not echo when entering password if
Term::ReadLine::Gnu is not installed</p>
<p>Revision 1.29  2000/12/20 15:47:56  nshafer
trying a new scheme for the shadow_redisplay.  Clear to EOL wasn't working
Also fixed a few problems in the documentation
.,</p>
<p>Revision 1.28  2000/12/19 23:55:03  nshafer
I need to stop forgetting the revision number...</p>
<p>Revision 1.27  2000/12/19 23:48:49  nshafer
cleaned up debugging</p>
<p>Revision 1.26  2000/12/19 23:10:18  nshafer
Lotsa new stuff... tab completion of table, column, and object names,
improved signal handling, the edit command now accepts a filename parameter,
new command 'show processes' which shows you info on who's connected,
improved benchmark info, and a lot of other cleanup/tweaks</p>
<p>Revision 1.25  2000/12/13 16:58:26  nshafer
oops forgot documentation again</p>
<p>Revision 1.24  2000/12/13 16:54:42  nshafer
added desc &lt;trigger&gt;</p>
<p>Revision 1.23  2000/12/12 17:52:15  nshafer
updated todo list (oops, forgot)</p>
<p>Revision 1.22  2000/12/12 17:51:39  nshafer
added desc &lt;index&gt;</p>
<p>Revision 1.21  2000/12/12 17:15:28  nshafer
fixed bug when connecting using a host string (-H option)
added a few more types to the 'show' and 'desc' commands</p>
<p>Revision 1.20  2000/12/08 22:13:43  nshafer
many little fixes and tweaks here and there</p>
<p>Revision 1.19  2000/12/06 20:50:03  nshafer
added scripting ability with ``@&lt;filename&gt;'' command
changed all tabs to spaces!</p>
<p>Revision 1.18  2000/12/06 19:30:38  nshafer
added clear command
refined connection process.  if invalid username/password entered then prompt again</p>
<p>Revision 1.17  2000/12/05 22:20:58  nshafer
Tightened up outputs.  Doesn't show column names if no rows selected, if
it's not a select, then show number of rows affected</p>
<p>Revision 1.16  2000/12/04 18:04:53  nshafer
*** empty log message ***</p>
<p>Revision 1.15  2000/12/04 18:03:14  nshafer
fixed bug where the -H option was interpreted as -h or help.  All command
line options are now case sensitive</p>
<p>Revision 1.14  2000/12/04 17:54:38  nshafer
Added list command (and \l and l)</p>
<p>Revision 1.13  2000/12/04 17:34:18  nshafer
fixed a formatting issue if Time::HiRes isn't installed</p>
<p>Revision 1.12  2000/12/04 17:29:41  nshafer
Added benchmark options to view the extended benchmark info.  Now it displays
just the time in a more friendly format.  The old style is only active if the
benchmark option is specified.
Cleaned up some formatting issues
Brought the usage and POD documentation up to date
Added some items to the TODO</p>
<p>Revision 1.11  2000/11/30 22:54:38  nshafer
Fixed bug with the edit command where if you were 'inquotes' then you would
stay in quotes even after editing the file</p>
<p>Revision 1.10  2000/11/30 22:01:38  nshafer
Fixed bug where username and password were added to the command history.
Set it so that the quit commands are not added to the command history either.
Added the 'edit' command and modified it's todo list item, as well as added
it to the 'help' command</p>
<p>Revision 1.9  2000/11/29 17:55:35  nshafer
changed version from .21 to 1.0 beta 9.  I'll follow the revision numbers now</p>
<p>Revision 1.8  2000/11/29 17:46:31  nshafer
added a few items to the todo list</p>
<p>Revision 1.7  2000/11/29 15:50:56  nshafer
got rid of SID output at startup</p>
<p>Revision 1.6  2000/11/29 15:49:51  nshafer
moved revision info to $revision and added Id output</p>
<p>Revision 1.5  2000/11/29 15:46:41  nshafer
fixed revision number</p>
<p>Revision 1.4  2000/11/29 15:44:23  nshafer
fixed issue where environment variable ORACLE_SID overwrote explicit set
on the command line.  now whatever you put on the command line will overwrite
the environment variable</p>

</body>

</html>
